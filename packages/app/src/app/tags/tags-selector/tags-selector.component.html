<button class="unstyled" [matMenuTriggerFor]="menu">
  <ng-content></ng-content>
</button>
<mat-menu #menu="matMenu" yPosition="above">
  <button mat-menu-item (click)="$event.stopPropagation(); showTagForm()">
    Add new tag
  </button>
  <mat-divider *ngIf="tags.length > 0"></mat-divider>
  <div
    mat-menu-item
    [disableRipple]="true"
    *ngFor="let tag of tags"
    style="display: flex; align-items: center"
    (click)="$event.stopPropagation(); onSelect.emit(tag)"
  >
    <span style="flex: 1; display: flex; min-width: 300px; align-items: center"
      ><span class="mr-0_5">{{ tag.data.title }}</span>
      <mat-icon [class.visibility-hidden]="!selected.includes(tag)"
        >check</mat-icon
      >
    </span>
    <button
      mat-icon-button
      color="accent"
      (click)="$event.stopPropagation(); showTagForm(tag)"
    >
      <mat-icon style="margin: 0">edit</mat-icon>
    </button>
  </div>
</mat-menu>
