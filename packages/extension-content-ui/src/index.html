<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>@Vocably: Extension Content UI</title>

    <script type="module" src="/build/extension-content-ui.esm.js"></script>
    <script nomodule src="/build/extension-content-ui.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      html {
        font-size: 24px;
      }
    </style>

    <script type="text/javascript">
      const simpletonTranslationResult = {
        success: true,
        value: {
          source: 'gemaakt',
          translation: {
            source: 'gemaakt',
            sourceLanguage: 'nl',
            target: 'created',
            targetLanguage: 'en',
          },
          cards: [
            {
              data: {
                language: 'nl',
                source: 'gemaakt',
                ipa: "xə'mak",
                translation: 'created, done',
                definition: '',
                partOfSpeech: '',
              },
            },
          ],
          tags: [],
        },
      };

      const successfulTranslationResult = {
        success: true,
        value: {
          source: 'gemaakt',
          translation: {
            source: 'gemaakt',
            sourceLanguage: 'nl',
            target: 'created',
            targetLanguage: 'en',
          },
          cards: [
            {
              id: 'NYS4L',
              created: 1639827779683,
              data: {
                language: 'nl',
                source: 'maken',
                ipa: "'makə(n)",
                example: '* winst maken\n* De klok is weer gemaakt.',
                definition:
                  '* (iets dat nog niet bestond) laten ontstaan\n* (iets dat kapot is) zorgen dat het weer heel is',
                translation: 'to make',
                partOfSpeech: 'verb',
              },
            },
            {
              data: {
                language: 'nl',
                source: 'gemaakt',
                ipa: "xə'mak",
                example: 'Bij een gemaakte glimlach lachen onze ogen niet mee.',
                definition: 'als iets niet natuurlijk is of gebeurt',
                translation: 'created, done',
                partOfSpeech: 'adjective',
              },
            },
          ],
          tags: [
            { id: '1', data: { title: 'Lesson 1' } },
            { id: '2', data: { title: 'Lesson 2' } },
            { id: '3', data: { title: 'Lesson 3' } },
          ],
        },
      };

      const englishTranslationResult = {
        success: true,
        value: {
          cards: [
            {
              data: {
                language: 'en',
                source: 'bring',
                examples:
                  '* Bring your swimsuit.\\n* March usually brings rain.\\n* We added another ten, bringing the number to 104.',
                definition:
                  '* to have something or somebody with you when you come\n* to make sth come to a place\n* to result in a new total of',
                translation: '',
                partOfSpeech: 'verb',
                interval: 0,
                repetition: 0,
                eFactor: 2.5,
                dueDate: 1651622400000,
              },
              id: 'ifu0J',
              created: 1651656677053,
            },
          ],
          source: 'bringing',
          translation: {
            source: 'bringing',
            sourceLanguage: 'en',
            target: 'bringing',
            targetLanguage: 'en',
          },
          tags: [],
        },
      };
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Menu</h1>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            source-language="nl"
            target-language="en"
            id="translationWithTagMenu"
            `
          ></vocably-translation
        ></vocably-popup>
      </div>

      <script type="text/javascript">
        const translationWithTagMenu = document.getElementById(
          'translationWithTagMenu'
        );
        translationWithTagMenu.existingLanguages = ['en', 'nl'];
        translationWithTagMenu.result = successfulTranslationResult;
      </script>

      <p>
        <vocably-tags-menu></vocably-tags-menu>
      </p>

      <p>
        <vocably-tags-menu id="menu"></vocably-tags-menu>

        <script>
          const menu = document.getElementById('menu');
          menu.existingItems = [
            { id: '1', data: { title: 'Luke Skywalker' } },
            { id: '2', data: { title: 'Darth Vader' } },
            { id: '3', data: { title: 'Leia Organa' } },
            { id: '4', data: { title: 'Han Solo' } },
            { id: '5', data: { title: 'Yoda' } },
            { id: '6', data: { title: 'Obi-Wan Kenobi' } },
            { id: '7', data: { title: 'Palpatine' } },
            { id: '8', data: { title: 'Chewbacca' } },
            { id: '9', data: { title: 'Boba Fett' } },
            { id: '10', data: { title: 'Padmé Amidala' } },
            { id: '11', data: { title: 'Anakin Skywalker' } },
            { id: '12', data: { title: 'Mace Windu' } },
          ];
          menu.selectedItems = ['2', '3', '4'];

          menu.addEventListener('tagClick', (event) => {
            const tag = event.detail;
            if (menu.selectedItems.includes(tag.id)) {
              menu.selectedItems = menu.selectedItems.filter(
                (itemId) => itemId !== tag.id
              );
            } else {
              menu.selectedItems = [tag.id, ...menu.selectedItems];
            }
          });
        </script>
      </p>
      <h1>Buttons</h1>
      <p>
        <vocably-button></vocably-button>
      </p>

      <p>
        <vocably-mobile-button></vocably-mobile-button>
      </p>

      <h1>First card added.</h1>

      <vocably-first-translation-congratulation></vocably-first-translation-congratulation>

      <h1>Popups</h1>

      <h2>Loading</h2>
      <div class="mb-3">
        <vocably-popup id="popup"
          ><vocably-translation phrase="geweldig"></vocably-translation
        ></vocably-popup>
        <div id="closed" class="d-none pt-2">Close clicked.</div>
      </div>

      <script type="text/javascript">
        const popup = document.getElementById('popup');
        const closed = document.getElementById('closed');

        popup.addEventListener('close', () => {
          closed.classList.remove('d-none');
          setTimeout(() => {
            closed.classList.add('d-none');
          }, 2000);
        });
      </script>

      <h2>First time</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="translationFirstTime"
            source-language="nl"
            target-language="en"
          ></vocably-translation
        ></vocably-popup>

        <script>
          const element = document.getElementById('translationFirstTime');

          element.result = {
            success: true,
            value: {
              source: 'Alice was beginning to get very tired of sitting',
              translation: {
                source: 'Alice was beginning to get very tired of sitting',
                sourceLanguage: 'en',
                target: 'Алиса начала сильно уставать сидеть',
                targetLanguage: 'ru',
              },
              cards: [
                {
                  data: {
                    language: 'en',
                    source: 'Alice was beginning to get very tired of sitting',
                    translation: 'Алиса начала сильно уставать сидеть',
                    definition: '',
                    partOfSpeech: '',
                  },
                },
              ],
            },
          };
          element.showSaveHint = true;
        </script>
      </div>

      <h2>Ask for rating</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="translationAskForRating"
            source-language="nl"
            target-language="en"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          const translationAskForRating = document.getElementById(
            'translationAskForRating'
          );

          translationAskForRating.result = successfulTranslationResult;
          translationAskForRating.showSaveHint = false;
          translationAskForRating.askForRating = true;
          translationAskForRating.extensionPlatform = {
            name: 'Chrome Web Store',
            url: 'https://chrome.google.com/webstore/detail/vocably/baocigmmhhdemijfjnjdidbkfgpgogmb',
          };
        </script>
      </div>

      <h2>Success</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            source-language="nl"
            target-language="en"
            id="translationSuccess"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          const translationSuccess =
            document.getElementById('translationSuccess');
          translationSuccess.existingLanguages = ['en', 'nl'];
          translationSuccess.result = successfulTranslationResult;
          translationSuccess.canCongratulate = true;
        </script>
      </div>

      <h2>Success. Simple</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            source-language="nl"
            target-language="en"
            id="simpletonTranslation"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          const simpletonTranslation = document.getElementById(
            'simpletonTranslation'
          );
          simpletonTranslation.existingLanguages = ['en', 'nl'];
          simpletonTranslation.result = simpletonTranslationResult;
          simpletonTranslation.canCongratulate = true;
          simpletonTranslation.askForRating = true;
          simpletonTranslation.extensionPlatform = {
            name: 'Chrome Web Store',
            url: 'https://chrome.google.com/webstore/detail/vocably/baocigmmhhdemijfjnjdidbkfgpgogmb',
          };
        </script>
      </div>

      <h2>Main language</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="bringing"
            source-language="en"
            target-language="en"
            id="translationEnglishSuccess"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          document.getElementById('translationEnglishSuccess').result =
            englishTranslationResult;
        </script>
      </div>

      <h2>Changing language</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="translationReload"
            source-language="nl"
            target-language="en"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          document.getElementById('translationReload').result =
            successfulTranslationResult;
          document.getElementById('translationReload').loading = true;
        </script>
      </div>

      <h2>Error</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="geweldig"
            id="translationError"
            source-language="nl"
            target-language="en"
          ></vocably-translation
        ></vocably-popup>
        <script type="text/javascript">
          document.getElementById('translationError').result = {
            success: false,
            errorCode: 'CARDS_SAVE_HTTP_FETCH_ERROR',
            reason: 'Unable to fetch cards',
            extra: { a: 'b' },
          };
        </script>
      </div>

      <h2>Sign In</h2>

      <div class="mb-3">
        <vocably-popup><vocably-sign-in></vocably-sign-in></vocably-popup>
      </div>

      <h2>Language</h2>

      <div class="mb-3">
        <div>
          <vocably-popup
            ><vocably-language
              source-language="nl"
              target-language="en"
              id="languageForm"
            ></vocably-language
          ></vocably-popup>
        </div>
        <div class="form-check form-check-inline form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            id="languageWaiting"
          />
          <label class="form-check-label" for="languageWaiting"
            >Loading...</label
          >
        </div>
        <script type="text/javascript">
          const waitingCheckbox = document.getElementById('languageWaiting');
          const languageForm = document.getElementById('languageForm');
          waitingCheckbox.addEventListener('change', () => {
            languageForm.waiting = waitingCheckbox.checked;
          });
        </script>
      </div>

      <h2>Free trial</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-subscribe trial="true"></vocably-subscribe
        ></vocably-popup>
      </div>

      <h2>No free trial</h2>

      <div class="mb-3">
        <vocably-popup><vocably-subscribe></vocably-subscribe></vocably-popup>
      </div>

      <div class="mb-3">
        <vocably-add-card-hint></vocably-add-card-hint>
      </div>
    </div>
  </body>
</html>
