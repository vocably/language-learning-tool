<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>@Vocably: Extension Content UI</title>

    <script type="module" src="/build/extension-content-ui.esm.js"></script>
    <script nomodule src="/build/extension-content-ui.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      html {
        font-size: 24px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Buttons</h1>
      <p>
        <vocably-button></vocably-button>
      </p>

      <h1>Popups</h1>

      <h2>Loading</h2>
      <div class="mb-3">
        <vocably-popup id="popup"
          ><vocably-translation phrase="geweldig"></vocably-translation
        ></vocably-popup>
        <div id="closed" class="d-none pt-2">Close clicked.</div>
      </div>

      <script type="text/javascript">
        const popup = document.getElementById('popup');
        const closed = document.getElementById('closed');

        popup.addEventListener('close', () => {
          closed.classList.remove('d-none');
          setTimeout(() => {
            closed.classList.add('d-none');
          }, 2000);
        });
      </script>

      <script type="text/javascript">
        const simpletonTranslationResult = {
          success: true,
          value: {
            source: 'gemaakt',
            translation: {
              source: 'gemaakt',
              sourceLanguage: 'nl',
              target: 'created',
              targetLanguage: 'en',
            },
            cards: [
              {
                id: 'NYS4L',
                created: 1639827779683,
                data: {
                  language: 'nl',
                  source: 'gemaakt',
                  translation: 'created',
                  definition: '',
                  partOfSpeech: '',
                },
              },
            ],
          },
        };

        const successfulTranslationResult = {
          success: true,
          value: {
            source: 'gemaakt',
            translation: {
              source: 'gemaakt',
              sourceLanguage: 'nl',
              target: 'created',
              targetLanguage: 'en',
            },
            cards: [
              {
                id: 'NYS4L',
                created: 1639827779683,
                data: {
                  language: 'nl',
                  source: 'gemaakt',
                  definition: 'als iets niet natuurlijk is of gebeurt',
                  translation: 'created',
                  partOfSpeech: 'adjective',
                },
              },
              {
                data: {
                  language: 'nl',
                  source: 'maken',
                  definition:
                    '* (iets dat nog niet bestond) laten ontstaan\n* (iets dat kapot is) zorgen dat het weer heel is',
                  translation: 'to make',
                  partOfSpeech: 'verb',
                },
              },
            ],
          },
        };

        const englishTranslationResult = {
          success: true,
          value: {
            cards: [
              {
                data: {
                  language: 'en',
                  source: 'bring',
                  definition:
                    '* to have sth or sb with you when you come\n* to make sth come to a place\n* to result in a new total of',
                  translation: '',
                  partOfSpeech: 'verb',
                  interval: 0,
                  repetition: 0,
                  eFactor: 2.5,
                  dueDate: 1651622400000,
                },
                id: 'ifu0J',
                created: 1651656677053,
              },
            ],
            source: 'bringing',
            translation: {
              source: 'bringing',
              sourceLanguage: 'en',
              target: 'bringing',
              targetLanguage: 'en',
            },
          },
        };
      </script>

      <h2>Success</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="translationSuccess"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          const translationSuccess =
            document.getElementById('translationSuccess');
          translationSuccess.existingLanguages = ['en', 'nl'];
          translationSuccess.result = successfulTranslationResult;
        </script>
      </div>

      <h2>Success. Simple</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="simpletonTranslation"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          const simpletonTranslation = document.getElementById(
            'simpletonTranslation'
          );
          simpletonTranslation.existingLanguages = ['en', 'nl'];
          simpletonTranslation.result = simpletonTranslationResult;
        </script>
      </div>

      <h2>Main language</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="bringing"
            language="en"
            id="translationEnglishSuccess"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          document.getElementById('translationEnglishSuccess').result =
            englishTranslationResult;
        </script>
      </div>

      <h2>Changing language</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="gemaakt"
            id="translationReload"
            language="nl"
          ></vocably-translation
        ></vocably-popup>
      </div>

      <div class="mb-3">
        <script type="text/javascript">
          document.getElementById('translationReload').result =
            successfulTranslationResult;
          document.getElementById('translationReload').loading = true;
        </script>
      </div>

      <h2>Error</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-translation
            phrase="geweldig"
            id="translationError"
          ></vocably-translation
        ></vocably-popup>
        <script type="text/javascript">
          document.getElementById('translationError').result = {
            success: false,
            errorCode: 'CARDS_SAVE_HTTP_FETCH_ERROR',
            reason: 'Unable to fetch cards',
            extra: { a: 'b' },
          };
        </script>
      </div>

      <h2>Sign In</h2>

      <div class="mb-3">
        <vocably-popup><vocably-sign-in></vocably-sign-in></vocably-popup>
      </div>

      <h2>Language</h2>

      <div class="mb-3">
        <div>
          <vocably-popup
            ><vocably-language
              source-language="nl"
              target-language="en"
              id="languageForm"
            ></vocably-language
          ></vocably-popup>
        </div>
        <div class="form-check form-check-inline form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            id="languageWaiting"
          />
          <label class="form-check-label" for="languageWaiting"
            >Loading...</label
          >
        </div>
        <script type="text/javascript">
          const waitingCheckbox = document.getElementById('languageWaiting');
          const languageForm = document.getElementById('languageForm');
          waitingCheckbox.addEventListener('change', () => {
            languageForm.waiting = waitingCheckbox.checked;
          });
        </script>
      </div>

      <h2>Free trial</h2>

      <div class="mb-3">
        <vocably-popup
          ><vocably-subscribe trial="true"></vocably-subscribe
        ></vocably-popup>
      </div>

      <h2>No free trial</h2>

      <div class="mb-3">
        <vocably-popup><vocably-subscribe></vocably-subscribe></vocably-popup>
      </div>
    </div>
  </body>
</html>
